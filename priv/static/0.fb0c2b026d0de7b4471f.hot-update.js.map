{"version":3,"sources":["webpack:///./web/static/js/app/actions/chatActions.js?7f7a"],"names":[],"mappings":"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","file":"0.fb0c2b026d0de7b4471f.hot-update.js","sourcesContent":["import ActionTypes  from '../constants';\nimport { push }           from 'react-router-redux';\n\nimport {getSelection,getMatchedPretext} from '../reducers/suggestionsReducer';\nexport function clickChannel(channelID) {\n\n    return dispatch => {\n        dispatch({\n            type: ActionTypes.CLICK_CHANNEL,\n            channelID: channelID\n        });\n\n    dispatch(push(`/chat/channels/${channelID}`));\n    }}\n\n\n\n\n\nfunction promise(callback){\n    return dispatch => {\n        console.log(dispatch);\n        dispatch(callback);\n         return Promise.resolve();\n    }\n\n}\n\n\nexport function clickThread(threadID) {\n    return dispatch => {\n    dispatch({\n      type: ActionTypes.CLICK_THREAD,\n      threadID: threadID\n    });\n\n    dispatch(push(`/chat/threads/${threadID}`));\n\n\n  }}\n\n\nexport function createMessage(text, chat) {\n    return (dispatch, getState) =>\n    {\n        dispatch({\n            type: ActionTypes.CREATE_MESSAGE,\n            message: message,\n            chat: chat,\n\n        });\n    }\n  }\n\n\nexport function sendChat(text, chat,chat_type) {\n    return (dispatch, getState) =>\n\n    {\n        client = getState().\n        dispatch({\n            type: ActionTypes.MESSAGE_SENT,\n            message: message,\n            chat: chat,\n            chat_type:chat_type\n\n        });\n    }\n  }\n\nexport function    receiveRawMessage(msg) {\n    return (dispatch, getState) =>\n    {\n        dispatch({\n            type: ActionTypes.RECEIVE_RAW_MESSAGE,\n            msg: msg\n\n        });\n    }\n    }\n\nexport function receiveAll(rawMessages) {\n    return (dispatch, getState) =>\n    {\n        dispatch({\n            type: ActionTypes.RECEIVE_RAW_MESSAGES,\n            rawMessages: rawMessages\n        });\n    }\n  }\n\n\n\n  export function receiveCreatedMessage(createdMessage) {\n    return (dispatch, getState) =>\n    {\n        dispatch({\n            type: ActionTypes.RECEIVE_RAW_CREATED_MESSAGE,\n            rawMessage: createdMessage\n        });\n    }\n  }\n\n\n\n\nexport function selectNextSuggestion(suggestionId) {\n    return (dispatch, getState) =>\n    {\n        return new Promise((resolve) => { dispatch({\n            type: ActionTypes.SUGGESTION_SELECT_NEXT,\n            id: suggestionId\n        });resolve(false);}).then(() => dispatch({\n                        type: ActionTypes.SUGGESTIONS_CHANGED,\n                        id:suggestionId\n\n                        })   );\n\n}}\n\nexport function selectPreviousSuggestion(suggestionId) {\n    return (dispatch, getState) =>\n    {\n        return new Promise((resolve) => { dispatch({\n            type: ActionTypes.SUGGESTION_SELECT_PREVIOUS,\n            id: suggestionId\n        }); resolve(false);} ).then(() => dispatch({\n                        type: ActionTypes.SUGGESTIONS_CHANGED,\n                        id:suggestionId,\n\n                        })  );\n    }\n}\n\n\n\nexport function suggestionChanged(suggestionId){\n     return (dispatch, getState) =>\n    {\n\n\n        return dispatch({\n            type: ActionTypes.SUGGESTIONS_CHANGED,\n            id: suggestionId,\n\n        });\n\n\n\n    }\n\n}\n\nfunction emitCompleteWordSuggestion(suggestionId, term = ''){\n\n    return (dispatch, getState) =>\n    {\n        var suggestions =getState().suggestions;\n        var suggestion =suggestions[suggestionId];\n        return dispatch({\n            type: ActionTypes.SUGGESTION_COMPLETE_WORD,\n            id: suggestionId,\n            term: term\n        });\n\n}}\n\nfunction completeWord(suggestionId, term = ''){\n    return (dispatch, getState) =>\n    {\n    return dispatch({\n                        type: ActionTypes.COMPLETE_WORD,\n                        id:suggestionId,\n                        term: term\n\n                        });\n}}\n\nexport function completeWordSuggestion(suggestionId, term = '') {\n    return (dispatch, getState) =>\n    {\n        var suggestions =getState().suggestions;\n        var suggestion =suggestions[suggestionId];\n        var term_t=term\n        return  new Promise((resolve) => { dispatch({\n            type: ActionTypes.SUGGESTION_COMPLETE_WORD,\n            id: suggestionId,\n            term: term\n        });resolve(false); }).then(() =>  dispatch({\n                        type: ActionTypes.COMPLETE_WORD,\n                        id:suggestionId,\n                        term: term_t\n\n                        })).then(() => dispatch({\n                        type: ActionTypes.SUGGESTIONS_CHANGED,\n                        id:suggestionId\n\n                        })   );\n    }\n}\n\n\n\n\nexport function registerSuggestions(suggestionId){\n     return {type: ActionTypes.REGISTER_SUGGESTION_BOX,id: suggestionId}\n\n\n\n    }\n\n\nexport function unregisterSuggestions(suggestionId){\n    return (dispatch, getState) =>\n    {\n        dispatch({type: ActionTypes.UNREGISTER_SUGGESTION_BOX,id: suggestionId});\n\n\n\n    }\n}\n\nexport function clearSuggestions(suggestionId){\n    return (dispatch, getState) =>\n    {\n        return new Promise((resolve) => { dispatch({type: ActionTypes.SUGGESTION_CLEAR_SUGGESTIONS,id: suggestionId});resolve(false);}).then(() => dispatch({\n                        type: ActionTypes.SUGGESTIONS_CHANGED,\n                        id:suggestionId\n\n                        })   );\n\n\n\n    }\n}\n\n\nexport function suggestionPretextChanged(suggestionId,pretext){\n    return (dispatch, getState) =>\n    {\n        return  new Promise((resolve) => { dispatch({type: ActionTypes.SUGGESTION_PRETEXT_CHANGED,\n                  id: suggestionId,\n                  pretext:pretext});\n\n         resolve(false); }).then(() => dispatch({\n                        type: ActionTypes.PRETEXT_CHANGED,\n                        id:suggestionId,\n                        pretext:pretext\n\n                         })\n\n\n        ).then(() => dispatch({\n                        type: ActionTypes.SUGGESTIONS_CHANGED,\n                        id:suggestionId\n\n                        }   ));\n\n\n\n    }\n}\n\n\nexport function handlePretextChanged(suggestionId,pretext)\n{\n\n    return (dispatch, getState) =>\n        {\n            if (pretext.startsWith('/')) {\n\n          httpGet(`/api/v1/commands/${CommandSuggestion}/`)\n          .then((data) => {\n\n                      var matches = [];\n                data.forEach((cmd) => {\n                    if (('/' + cmd.trigger).indexOf(command) === 0) {\n                        let s = '/' + cmd.trigger;\n                        let hint = '';\n                        if (cmd.auto_complete_hint && cmd.auto_complete_hint.length !== 0) {\n                            hint = cmd.auto_complete_hint;\n                        }\n                        matches.push({\n                            suggestion: s,\n                            hint,\n                            description: cmd.auto_complete_desc\n                        });\n                    }\n                });\n\n                matches = matches.sort((a, b) => a.suggestion.localeCompare(b.suggestion));\n\n                // pull out the suggested commands from the returned data\n                const terms = matches.map((suggestion) => suggestion.suggestion);\n\n                if (terms.length > 0) {\n                    return dispatch({\n                        type: ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS,\n                        id: suggestionId,\n                        matchedPretext: command,\n                        terms:terms,\n                        items: matches,\n                        component:component\n                    }).then( () => {\n\n                        dispatch({\n                            type: ActionTypes.SUGGESTIONS_CHANGED,\n                            id: suggestionId\n\n                        })\n                }\n                    );\n                }\n\n\n          });\n        }\n            }\n\n\n\n\n\n\n}\n\nexport function setMatchedPretext(suggestionId, text){\n\n    return (dispatch, getState) =>\n    {\n        dispatch({type: ActionTypes.SET_MATCHED_PRETEXT,id: suggestionId,text: text});\n\n\n\n    }\n\n}\n\nexport function addSuggestions(suggestionId,  terms, items, component){\n\n    return (dispatch, getState) =>\n    {\n        dispatch({type: ActionTypes.ADD_SUGGESTIONS,id: suggestionId,terms:terms, items: items, component:component});\n\n\n\n    }\n\n}\n\nexport function clearSelection(suggestionId){\n\n    return (dispatch, getState) =>\n    {\n        dispatch({type: ActionTypes.CLEAR_SELECTION,id: suggestionId});\n\n\n\n    }\n\n}\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/static/js/app/actions/chatActions.js\n **/"],"sourceRoot":""}