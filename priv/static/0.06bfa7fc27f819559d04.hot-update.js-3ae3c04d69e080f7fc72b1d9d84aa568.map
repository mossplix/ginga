{"version":3,"sources":["webpack:///./web/static/js/app/selectors/index.js?7208"],"names":[],"mappings":"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","file":"0.06bfa7fc27f819559d04.hot-update.js","sourcesContent":["import {createSelector} from 'reselect';\nimport _ from 'lodash';\n\nconst messageListByQuerySelector = state => state.messageListByQuery;\nconst threadsByIDSelector = state => state.threadsByID;\nconst roomsByIDSelector = state => state.roomsByID;\nconst messagesByIDSelector = state => state.messagesByID;\n\nexport const isLoadingSelector = state => state.isLoading;\nexport const labelsSelector = state => state.labels;\nexport const searchQuerySelector = state => state.app.searchQuery;\nexport const selectedMessageIDSelector = state => state.threadReducer.messageID;\nexport const selectedThreadIDSelector = state => state.routing.params.threadID;\nexport const selectedRoomIDSelector = state => state.routing.params.roomID;\n\n\nexport const threadsSelector = createSelector([\n  searchQuerySelector,\n  messageListByQuerySelector,\n  threadsByIDSelector,\n], (\n  searchQuery,\n  messageListByQuery,\n  threadsByID,\n) => {\n  const threadList = messageListByQuery[searchQuery];\n  return threadList ?\n    threadList.threadIDs.map(threadID => threadsByID[threadID]) :\n    [];\n});\n\nexport const selectedThreadMessagesSelector = createSelector([\n  threadsByIDSelector,\n  selectedThreadIDSelector,\n  messagesByIDSelector,\n], (\n  threadsByID,\n  selectedThreadID,\n  messagesByID,\n) => {\n  const selectedThread = threadsByID[selectedThreadID];\n  return selectedThread &&\n    selectedThread.messageIDs.map(messageID => messagesByID[messageID]);\n});\n\n\nexport const lastMessageInEachThreadSelector = createSelector([\n  messagesByIDSelector,\n  threadsSelector\n], (\n  messagesByID,\n  threads\n) => {\n  return threads && threads.map(\n    thread => messagesByID[_.last(thread.messageIDs)]\n  );\n});\n\nexport const hasMoreThreadsSelector = createSelector([\n  searchQuerySelector,\n  messageListByQuerySelector,\n], (\n  searchQuery,\n  messageListByQuery,\n) => {\n  const threadList = messageListByQuery[searchQuery];\n  return !threadList || !!threadList.nextPageToken;\n});\n\nexport const loadedThreadCountSelector = createSelector([\n  searchQuerySelector,\n  messageListByQuerySelector,\n], (\n  searchQuery,\n  messageListByQuery,\n) => {\n  const threadList = messageListByQuery[searchQuery];\n  return threadList ? threadList.threadIDs.length : 0;\n});\n\nexport const nextMessageSelector = createSelector([\n  lastMessageInEachThreadSelector,\n  selectedMessageIDSelector,\n], (\n  messages,\n  selectedMessageID\n) => {\n  if (!messages) {\n    return null;\n  }\n\n  const selectedMessageIndex = selectedMessageID &&\n    messages.findIndex(\n      msg => msg.id === selectedMessageID\n    );\n\n  if (!selectedMessageID) {\n    return messages[0];\n  } else if (selectedMessageIndex < 0 || selectedMessageIndex === messages.length) {\n    return null;\n  } else {\n    return messages[selectedMessageIndex + 1];\n  }\n});\n\nexport const prevMessageSelector = createSelector([\n  lastMessageInEachThreadSelector,\n  selectedMessageIDSelector,\n], (\n  messages,\n  selectedMessageID\n) => {\n  if (!messages) {\n    return null;\n  }\n\n  const selectedMessageIndex = selectedMessageID &&\n    messages.findIndex(\n      msg => msg.id === selectedMessageID\n    );\n\n  if (!selectedMessageID) {\n    return messages[0];\n  } else if (selectedMessageIndex < 0 || selectedMessageIndex === 0) {\n    return null;\n  } else {\n    return messages[selectedMessageIndex - 1];\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/static/js/app/selectors/index.js\n **/"],"sourceRoot":""}