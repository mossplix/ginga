{"version":3,"sources":["webpack:///./web/static/js/app/components/chat/suggestion/suggestion_list.jsx?1f50"],"names":[],"mappings":"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","file":"0.f10e706f8d40db9981fd.hot-update.js","sourcesContent":["// Copyright (c) 2016 Sparkplug, Inc. All Rights Reserved.\n\n\nimport $ from 'jquery';\nimport ReactDOM from 'react-dom';\nimport * as GlobalActions from '../../../actions/chatActions';\n\nimport React from 'react';\n\nexport default class SuggestionList extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.getContent = this.getContent.bind(this);\n\n        this.handleItemClick = this.handleItemClick.bind(this);\n        this.handleSuggestionsChanged = this.handleSuggestionsChanged.bind(this);\n\n        this.scrollToItem = this.scrollToItem.bind(this);\n\n        this.state = {\n            items: [],\n            terms: [],\n            components: [],\n            selection: ''\n        };\n    }\n\n\n    getContent() {\n        return $(ReactDOM.findDOMNode(this.refs.content));\n    }\n\n    handleItemClick(term, e) {\n        GlobalActions.emitCompleteWordSuggestion(this.props.suggestionId, term);\n\n        e.preventDefault();\n    }\n\n    handleSuggestionsChanged() {\n        const selection =null;// SuggestionStore.getSelection(this.props.suggestionId);\n\n        this.setState({\n            items: null,//SuggestionStore.getItems(this.props.suggestionId),\n            terms: null,//SuggestionStore.getTerms(this.props.suggestionId),\n            components: null,// SuggestionStore.getComponents(this.props.suggestionId),\n            selection\n        });\n\n        if (selection) {\n            window.requestAnimationFrame(() => this.scrollToItem(this.state.selection));\n        }\n    }\n\n    scrollToItem(term) {\n        const content = this.getContent();\n        const visibleContentHeight = content[0].clientHeight;\n        const actualContentHeight = content[0].scrollHeight;\n\n        if (visibleContentHeight < actualContentHeight) {\n            const contentTop = content.scrollTop();\n            const contentTopPadding = parseInt(content.css('padding-top'), 10);\n            const contentBottomPadding = parseInt(content.css('padding-top'), 10);\n\n            const item = $(ReactDOM.findDOMNode(this.refs[term]));\n            const itemTop = item[0].offsetTop - parseInt(item.css('margin-top'), 10);\n            const itemBottomMargin = parseInt(item.css('margin-bottom'), 10) + parseInt(item.css('padding-bottom'), 10);\n            const itemBottom = item[0].offsetTop + item.height() + itemBottomMargin;\n\n            if (itemTop - contentTopPadding < contentTop) {\n                // the item is off the top of the visible space\n                content.scrollTop(itemTop - contentTopPadding);\n            } else if (itemBottom + contentTopPadding + contentBottomPadding > contentTop + visibleContentHeight) {\n                // the item has gone off the bottom of the visible space\n                content.scrollTop(itemBottom - visibleContentHeight + contentTopPadding + contentBottomPadding);\n            }\n        }\n    }\n\n    render() {\n        if (this.state.items.length === 0) {\n            return null;\n        }\n\n        const items = [];\n        for (let i = 0; i < this.state.items.length; i++) {\n            const item = this.state.items[i];\n            const term = this.state.terms[i];\n            const isSelection = term === this.state.selection;\n\n            // ReactComponent names need to be upper case when used in JSX\n            const Component = this.state.components[i];\n\n            items.push(\n                <Component\n                    key={term}\n                    ref={term}\n                    item={item}\n                    term={term}\n                    isSelection={isSelection}\n                    onClick={this.handleItemClick.bind(this, term)}\n                />\n            );\n        }\n\n        return (\n            <div className='suggestion-list suggestion-list--top'>\n                <div\n                    ref='content'\n                    className='suggestion-list__content suggestion-list__content--top'\n                >\n                    {items}\n                </div>\n            </div>\n        );\n    }\n}\n\nSuggestionList.propTypes = {\n    suggestionId: React.PropTypes.string.isRequired\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/static/js/app/components/chat/suggestion/suggestion_list.jsx\n **/"],"sourceRoot":""}