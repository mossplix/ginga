{"version":3,"sources":["webpack:///./web/static/js/app/constants/index.js?a0b6","webpack:///./web/static/js/app/components/chat/suggestion/suggestion_box.jsx?169e","webpack:///./web/static/js/app/reducers/suggestionsReducer.js?166e"],"names":[],"mappings":"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","file":"0.449dd1da2042bc89ae83.hot-update.js","sourcesContent":["\nvar keyMirror = require('keymirror');\n\nimport chatConstants from './chat_constants';\n\nconst Other =\n\n    keyMirror({\n    CLICK_THREAD: null,\n\n    CREATE_MESSAGE: null,\n    RECEIVE_RAW_CREATED_MESSAGE: null,\n    RECEIVE_RAW_MESSAGES: null,\n        APP_CONNECTED:null,\n        LOAD_LABELS:null,\n      TASK_CREATE: null,\n      TASK_COMPLETE: null,\n      TASK_DESTROY: null,\n      TASK_DESTROY_COMPLETED: null,\n      TASK_TOGGLE_COMPLETE_ALL: null,\n      TASK_UNDO_COMPLETE: null,\n      TASK_UPDATE_TEXT: null,\n      CLIENT_ON_CONNECT:null,\n      CLIENT_ON_AUTHFAILED:null,\n      CLIENT_ON_ALL:null,\n      CLIENT_ON_CREDENTIALS_UPDATE:null,\n      CLIENT_ON_DISCONNECTED:null,\n      CLIENT_ON_STREAM_MANAGEMENT_RESUMED:null,\n      CLIENT_ON_SESSION_STARTED:null,\n      CLIENT_ON_ROSTER_UPDATE:null,\n      CLIENT_ON_SUBSCRIBE:null,\n      CLIENT_ON_AVAILABLE:null,\n      CLIENT_ON_UNAVALILABLE:null,\n      CLIENT_ON_AVATAR:null,\n      CLIENT_ON_CHAT_STATE:null,\n      CLIENT_ON_CHAT:null,\n      CLIENT_ON_GROUPCHAT:null,\n      CLIENT_ON_GROUPCHAT_SUBJECT:null,\n      CLIENT_ON_REPLACE:null,\n      CLIENT_ON_RECEIPT:null,\n      CLIENT_ON_CARBON_RECEIVED:null,\n      CLIENT_ON_CARBON_SENT:null,\n      CLIENT_ON_DISCO_CAPS:null,\n      CLIENT_ON_STANZA_ACKED:null,\n      CLIENT_ON_JINGLE_INCOMING:null,\n      CLIENT_ON_JINGLE_OUTGOING:null,\n      CLIENT_ON_JINGLE_TERMINATED:null,\n      CLIENT_ON_JINGLE_ACCEPTED:null,\n      CLIENT_ON_JINGLE_LOCALSTREAM_ADDED:null,\n      CLIENT_ON_JINGLE_LOCALSTREAM_REMOVED:null,\n      CLIENT_ON_JINGLE_REMOTESTREAM_ADDED:null,\n      CLIENT_ON_JINGLE_REMOTESTREAM_REMOVED:null,\n      CLIENT_ON_JINGLE_RINGING:null,\n\n      USER_CHANGE_JID:null,\n      USER_CHANGE_ACTIVE:null,\n      USER_CHANGE_ROSTER_VERSION:null,\n      USER_CHANGE_AVATARID:null,\n      CLICK_CHANNEL: null,\n      RECEIVE_RAW_MUCS: null,\n      RECEIVE_RAW_CREATED_MUC: null,\n\n      ROOM_INVITE_USERS:null,\n      CLOSE_ROOM:null,\n      SEARCH_HISTORY:null,\n      RECEIVE_RAW_CONTACTS:null,\n      CREATE_RESOURCE:null,\n      APP_LOADED:null,\n        SEARCH:null,\n        LOAD_MESSAGES_SUCCESS:null,\n        MESSAGES_UNSTAR_REQUEST:null,\n        MESSAGES_ARCHIVE_REQUEST:null,\n        REFRESH:null,\n        LOAD_MESSAGES:null,\n        LOAD_ROOMS:null,\n        LOAD_CONTACTS:null,\n        LOAD_MUCS:null,\n        PRETEXT_CHANGED:null,\n        SUGGESTIONS_CHANGED:null,\n        COMPLETE_WORD:null,\n\n          RECEIVED_ERROR: null,\n\n        CLICK_CHANNEL: null,\n        CREATE_CHANNEL: null,\n        LEAVE_CHANNEL: null,\n        CREATE_POST: null,\n        POST_DELETED: null,\n        REMOVE_POST: null,\n\n        RECEIVED_CHANNELS: null,\n        RECEIVED_CHANNEL: null,\n        RECEIVED_MORE_CHANNELS: null,\n        RECEIVED_CHANNEL_EXTRA_INFO: null,\n\n        FOCUS_POST: null,\n        RECEIVED_POSTS: null,\n        RECEIVED_FOCUSED_POST: null,\n        RECEIVED_POST: null,\n        RECEIVED_EDIT_POST: null,\n        RECEIVED_SEARCH: null,\n        RECEIVED_SEARCH_TERM: null,\n        RECEIVED_POST_SELECTED: null,\n        RECEIVED_MENTION_DATA: null,\n        RECEIVED_ADD_MENTION: null,\n\n        RECEIVED_PROFILES: null,\n        RECEIVED_ME: null,\n        RECEIVED_SESSIONS: null,\n        RECEIVED_AUDITS: null,\n        RECEIVED_TEAMS: null,\n        RECEIVED_STATUSES: null,\n        RECEIVED_PREFERENCE: null,\n        RECEIVED_PREFERENCES: null,\n        RECEIVED_FILE_INFO: null,\n        RECEIVED_ANALYTICS: null,\n\n        RECEIVED_INCOMING_WEBHOOKS: null,\n        RECEIVED_INCOMING_WEBHOOK: null,\n        REMOVED_INCOMING_WEBHOOK: null,\n        RECEIVED_OUTGOING_WEBHOOKS: null,\n        RECEIVED_OUTGOING_WEBHOOK: null,\n        UPDATED_OUTGOING_WEBHOOK: null,\n        REMOVED_OUTGOING_WEBHOOK: null,\n\n        RECEIVED_MSG: null,\n\n        RECEIVED_MY_TEAM: null,\n\n        RECEIVED_CONFIG: null,\n        RECEIVED_LOGS: null,\n        RECEIVED_SERVER_AUDITS: null,\n        RECEIVED_SERVER_COMPLIANCE_REPORTS: null,\n        RECEIVED_ALL_TEAMS: null,\n\n        RECEIVED_LOCALE: null,\n\n        SHOW_SEARCH: null,\n\n        USER_TYPING: null,\n\n        TOGGLE_IMPORT_THEME_MODAL: null,\n        TOGGLE_INVITE_MEMBER_MODAL: null,\n        TOGGLE_DELETE_POST_MODAL: null,\n        TOGGLE_GET_POST_LINK_MODAL: null,\n        TOGGLE_GET_TEAM_INVITE_LINK_MODAL: null,\n        TOGGLE_REGISTER_APP_MODAL: null,\n\n        SUGGESTION_PRETEXT_CHANGED: null,\n        SUGGESTION_RECEIVED_SUGGESTIONS: null,\n        SUGGESTION_CLEAR_SUGGESTIONS: null,\n        SUGGESTION_COMPLETE_WORD: null,\n        SUGGESTION_SELECT_NEXT: null,\n        SUGGESTION_SELECT_PREVIOUS: null,\n        REGISTER_SUGGESTION_BOX: null,\n\n\n        \n\n  });\n\n\nconst Constants = Object.assign({},{\n  USER_SIGNED_IN: 'USER_SIGNED_IN',\n  CURRENT_USER: 'CURRENT_USER',\n  USER_SIGNED_OUT: 'USER_SIGNED_OUT',\n  SESSIONS_ERROR: 'SESSIONS_ERROR',\n  REGISTRATIONS_ERROR: 'REGISTRATIONS_ERROR',\n\n  BOARDS_FETCHING: 'BOARDS_FETCHING',\n  BOARDS_SHOW_FORM: 'BOARDS_SHOW_FORM',\n  BOARDS_RECEIVED: 'BOARDS_RECEIVED',\n  BOARDS_SET_CURRENT_BOARD: 'BOARDS_SET_CURRENT_BOARD',\n  BOARDS_CREATE_ERROR: 'BOARDS_CREATE_ERROR',\n  BOARDS_RESET: 'BOARDS_RESET',\n  BOARDS_FULL_RESET: 'BOARDS_FULL_RESET',\n  BOARDS_ADDED: 'BOARDS_ADDED',\n  BOARDS_NEW_BOARD_CREATED: 'BOARDS_NEW_BOARD_CREATED',\n\n  CURRENT_BOARD_FETHING: 'CURRENT_BOARD_FETHING',\n  CURRENT_BOARD_CONNECTED_USERS: 'CURRENT_BOARD_CONNECTED_USERS',\n  CURRENT_BOARD_CONNECTED_TO_CHANNEL: 'CURRENT_BOARD_CONNECTED_TO_CHANNEL',\n  CURRENT_BOARD_RESET: 'CURRENT_BOARD_RESET',\n  CURRENT_BOARD_LIST_CREATED: 'CURRENT_BOARD_LIST_CREATED',\n  CURRENT_BOARD_CARD_CREATED: 'CURRENT_BOARD_CARD_CREATED',\n  CURRENT_BOARD_SHOW_FORM: 'CURRENT_BOARD_SHOW_FORM',\n  CURRENT_BOARD_SHOW_MEMBERS_FORM: 'CURRENT_BOARD_SHOW_MEMBERS_FORM',\n  CURRENT_BOARD_MEMBER_ADDED: 'CURRENT_BOARD_MEMBER_ADDED',\n  CURRENT_BOARD_ADD_MEMBER_ERROR: 'CURRENT_BOARD_ADD_MEMBER_ERROR',\n  CURRENT_BOARD_EDIT_LIST: 'CURRENT_BOARD_EDIT_LIST',\n  CURRENT_BOARD_SHOW_CARD: 'CURRENT_BOARD_SHOW_CARD',\n  CURRENT_BOARD_EDIT_CARD: 'CURRENT_BOARD_EDIT_CARD',\n  CURRENT_BOARD_SHOW_CARD_FORM_FOR_LIST: 'CURRENT_BOARD_SHOW_CARD_FORM_FOR_LIST',\n\n  LISTS_SHOW_FORM: 'LISTS_SHOW_FORM',\n\n  CARD_MOVE: 'CARD_MOVE',\n  CURRENT_CARD_FETHING: 'CURRENT_CARD_FETHING',\n  CURRENT_CARD_RESET: 'CURRENT_CARD_RESET',\n  CURRENT_CARD_SET: 'CURRENT_CARD_SET',\n  CURRENT_CARD_EDIT: 'CURRENT_CARD_EDIT',\n  CURRENT_CARD_SHOW_MEMBERS_SELECTOR: 'CURRENT_CARD_SHOW_MEMBERS_SELECTOR',\n  CURRENT_CARD_SHOW_TAGS_SELECTOR: 'CURRENT_CARD_SHOW_TAGS_SELECTOR',\n\n  HEADER_SHOW_BOARDS: 'HEADER_SHOW_BOARDS',\n    ADD_TASK: 'ADD_TASK',\n   DELETE_TASK: 'DELETE_TASK',\n    EDIT_TASK: 'EDIT_TASK',\n   COMPLETE_TASK: 'COMPLETE_TASK',\n   COMPLETE_ALL: 'COMPLETE_ALL',\n  CLEAR_COMPLETED: 'CLEAR_COMPLETED',\n    REQUEST_STARTED:'REQUEST_STARTED',\n    REQUEST_ALL_STOPPED:'REQUEST_ALL_STOPPED',\n\n\n\n},Other);\n\nexport default Constants;\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/static/js/app/constants/index.js\n **/","// Copyright (c) 2016 Sparkplug, Inc. All Rights Reserved.\n\nimport $ from 'jquery';\nimport ReactDOM from 'react-dom';\n\nimport ActionTypes from '../../../constants';\nimport ChatConstants from '../../../constants'\n\nimport * as Utils from '../../../utils/general';\n\nimport TextareaAutosize from 'react-textarea-autosize';\n\nconst KeyCodes = ChatConstants.KeyCodes;\n\nimport React from 'react';\n\nexport default class SuggestionBox extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.handleDocumentClick = this.handleDocumentClick.bind(this);\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleCompleteWord = this.handleCompleteWord.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.handlePretextChanged = this.handlePretextChanged.bind(this);\n\n        this.suggestionId = Utils.generateId();\n    }\n\n    componentDidMount() {\n\n        //SuggestionStore.registerSuggestionBox(this.suggestionId);\n\n\n        $(document).on('click', this.handleDocumentClick);\n\n       // SuggestionStore.addCompleteWordListener(this.suggestionId, this.handleCompleteWord);\n        //SuggestionStore.addPretextChangedListener(this.suggestionId, this.handlePretextChanged);\n    }\n\n    componentWillUnmount() {\n        //SuggestionStore.removeCompleteWordListener(this.suggestionId, this.handleCompleteWord);\n        //SuggestionStore.removePretextChangedListener(this.suggestionId, this.handlePretextChanged);\n\n        //SuggestionStore.unregisterSuggestionBox(this.suggestionId);\n        $(document).off('click', this.handleDocumentClick);\n    }\n\n    getTextbox() {\n        // this is to support old code that looks at the input/textarea DOM nodes\n        let textbox = this.refs.textbox;\n\n        if (!(textbox instanceof HTMLElement)) {\n            textbox = ReactDOM.findDOMNode(textbox);\n        }\n\n        return textbox;\n    }\n\n    handleDocumentClick(e) {\n        const container = $(ReactDOM.findDOMNode(this));\n        if (!(container.is(e.target) || container.has(e.target).length > 0)) {\n            // we can't just use blur for this because it fires and hides the children before\n            // their click handlers can be called\n\n             store.dispatch({\n                        type: ActionTypes.SUGGESTION_CLEAR_SUGGESTIONS,\n                        id:this.suggestionId,\n\n                        });\n        }\n    }\n\n    handleChange(e) {\n        const textbox = ReactDOM.findDOMNode(this.refs.textbox);\n        const caret = Utils.getCaretPosition(textbox);\n        const pretext = textbox.value.substring(0, caret);\n\n        //GlobalActions.emitSuggestionPretextChanged(this.suggestionId, pretext);\n        store.dispatch({\n                        type: ActionTypes.SUGGESTION_PRETEXT_CHANGED,\n                        id:this.suggestionId,\n                        pretext:pretext\n\n                        });\n\n        if (this.props.onUserInput) {\n            this.props.onUserInput(textbox.value);\n        }\n\n        if (this.props.onChange) {\n            this.props.onChange(e);\n        }\n    }\n\n    handleCompleteWord(term) {\n        const textbox = ReactDOM.findDOMNode(this.refs.textbox);\n        const caret = Utils.getCaretPosition(textbox);\n\n        const text = this.props.value;\n        const prefix = \"\";//text.substring(0, caret - SuggestionStore.getMatchedPretext(this.suggestionId).length);\n        const suffix = text.substring(caret);\n\n        if (this.props.onUserInput) {\n            this.props.onUserInput(prefix + term + ' ' + suffix);\n        }\n\n        // set the caret position after the next rendering\n        window.requestAnimationFrame(() => {\n            Utils.setCaretPosition(textbox, prefix.length + term.length + 1);\n        });\n    }\n\n    handleKeyDown(e) {\n        if (SuggestionStore.hasSuggestions(this.suggestionId)) {\n            if (e.which === KeyCodes.UP) {\n                 store.dispatch({\n                        type: ActionTypes.SUGGESTION_SELECT_PREVIOUS,\n                        id:this.suggestionId,\n\n                        });\n                e.preventDefault();\n            } else if (e.which === KeyCodes.DOWN) {\n                store.dispatch({\n                        type: ActionTypes.SUGGESTION_SELECT_NEXT,\n                        id:this.suggestionId,\n\n                        });\n                e.preventDefault();\n            } else if (e.which === KeyCodes.ENTER || e.which === KeyCodes.TAB) {\n\n                store.dispatch({\n                        type: ActionTypes.SUGGESTION_COMPLETE_WORD,\n                        id:this.suggestionId,\n\n                        });\n                e.preventDefault();\n            } else if (this.props.onKeyDown) {\n                this.props.onKeyDown(e);\n            }\n        } else if (this.props.onKeyDown) {\n            this.props.onKeyDown(e);\n        }\n    }\n\n    handlePretextChanged(pretext) {\n        for (const provider of this.props.providers) {\n            provider.handlePretextChanged(this.suggestionId, pretext);\n        }\n    }\n\n    render() {\n        const newProps = Object.assign({}, this.props, {\n            onChange: this.handleChange,\n            onKeyDown: this.handleKeyDown\n        });\n\n        let textbox = null;\n        if (this.props.type === 'input') {\n            textbox = (\n                <input\n                    ref='textbox'\n                    type='text'\n                    {...newProps}\n                />\n            );\n        } else if (this.props.type === 'search') {\n            textbox = (\n                <input\n                    ref='textbox'\n                    type='search'\n                    {...newProps}\n                />\n            );\n        } else if (this.props.type === 'textarea') {\n            textbox = (\n                <TextareaAutosize\n                    id={this.suggestionId}\n                    ref='textbox'\n                    {...newProps}\n                />\n            );\n        }\n\n        const SuggestionListComponent = this.props.listComponent;\n\n        return (\n            <div>\n                {textbox}\n                <SuggestionListComponent suggestionId={this.suggestionId}/>\n            </div>\n        );\n    }\n}\n\nSuggestionBox.defaultProps = {\n    type: 'input'\n};\n\nSuggestionBox.propTypes = {\n    listComponent: React.PropTypes.func.isRequired,\n    type: React.PropTypes.oneOf(['input', 'textarea', 'search']).isRequired,\n    value: React.PropTypes.string.isRequired,\n    onUserInput: React.PropTypes.func,\n    providers: React.PropTypes.arrayOf(React.PropTypes.object),\n\n    // explicitly name any input event handlers we override and need to manually call\n    onChange: React.PropTypes.func,\n    onKeyDown: React.PropTypes.func,\n    onHeightChange: React.PropTypes.func\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/static/js/app/components/chat/suggestion/suggestion_box.jsx\n **/","import ActionTypes  from '../constants/chat_constants';\n\n\n  function markInactive   () {\n        if (this.focused) {\n            return this.markActive();\n        }\n\n        _active = false;\n        _idleSince = new Date(Date.now());\n\n    }\n\nfunction registerSuggestionBox(id,state) {\n        state[id]={\n            pretext: '',\n            matchedPretext: '',\n            terms: [],\n            items: [],\n            components: [],\n            selection: ''\n        };\n    return state;\n    }\n\n   function  unregisterSuggestionBox(id,state) {\n        delete state[id];\n       return state;\n    }\n\n    function clearSuggestions(id,state) {\n        const suggestion = state[id];\n\n        suggestion.matchedPretext = '';\n        suggestion.terms = [];\n        suggestion.items = [];\n        suggestion.components = [];\n        state[id] =suggestion;\n       return state;\n    }\n\n    function clearSelection(id,state) {\n        const suggestion = state[id];\n\n        suggestion.selection = '';\n        state[id]=suggestion;\n        return state;\n    }\n\n    function hasSuggestions(id,state) {\n        return state[id].terms.length > 0;\n    }\n\n    function setPretext(id, pretext,state) {\n        const suggestion = state[id];\n\n        suggestion.pretext = pretext;\n        state[id] = suggestion;\n        return state;\n    }\n\n    function setMatchedPretext(id, matchedPretext,state) {\n        const suggestion = state[id];\n\n        suggestion.matchedPretext = matchedPretext;\n        state[id] = suggestion;\n        return state;\n    }\n\n    function addSuggestion(id, term, item, component,state) {\n        const suggestion = state[id];\n\n        suggestion.terms.push(term);\n        suggestion.items.push(item);\n        suggestion.components.push(component);\n         state[id] = suggestion;\n        return state;\n    }\n\n   function  addSuggestions(id, terms, items, component,state) {\n        const suggestion = state[id];\n\n        suggestion.terms.push(...terms);\n        suggestion.items.push(...items);\n\n        for (let i = 0; i < terms.length; i++) {\n            suggestion.components.push(component);\n        }\n       state[id] = suggestion;\n       return state;\n    }\n\n    // make sure that if suggestions exist, then one of them is selected. return true if the selection changes.\n    function ensureSelectionExists(id,state) {\n        const suggestion = state[id];\n\n        if (suggestion.terms.length > 0) {\n            // if the current selection is no longer in the map, select the first term in the list\n            if (!suggestion.selection || suggestion.terms.indexOf(suggestion.selection) === -1) {\n                suggestion.selection = suggestion.terms[0];\n\n                return true;\n            }\n        } else if (suggestion.selection) {\n            suggestion.selection = '';\n\n\n        }\n\n        state[id] = suggestion;\n       return state;\n    }\n\n    function getPretext(id,state) {\n        return state[id].pretext;\n    }\n\n    function getMatchedPretext(id,state) {\n        return state[id].matchedPretext;\n    }\n\n   function  getItems(id,state) {\n        return state[id].items;\n    }\n\n    function getTerms(id,state) {\n        return state[id].terms;\n    }\n\n   function  getComponents(id,state) {\n        return state[id].components;\n    }\n\n   function  getSelection(id,state) {\n        return state[id].selection;\n    }\n\n    function selectNext(id,state) {\n        return setSelectionByDelta(id, 1,state);\n    }\n\n    function selectPrevious(id,state) {\n        return setSelectionByDelta(id, -1,state);\n    }\n\n    function setSelectionByDelta(id, delta,state) {\n        const suggestion = state[id];\n\n        let selectionIndex = suggestion.terms.indexOf(suggestion.selection);\n\n        if (selectionIndex === -1) {\n            // this should never happen since selection should always be in terms\n            throw new Error('selection is not in terms');\n        }\n\n        selectionIndex += delta;\n\n        if (selectionIndex < 0) {\n            selectionIndex = 0;\n        } else if (selectionIndex > suggestion.terms.length - 1) {\n            selectionIndex = suggestion.terms.length - 1;\n        }\n\n        suggestion.selection = suggestion.terms[selectionIndex];\n\n    state[id] = suggestion;\n    return state;\n    }\n\nexport default function reducer(state = {}, action = {}) {\n     const  { id, ...other} = action;\n     switch (action.type) {\n\n\n         case ActionTypes.SUGGESTION_PRETEXT_CHANGED:\n             var toret=state;\n             toret=clearSuggestions(id,toret);\n\n            toret=setPretext(id, other.pretext,toret);\n             store.dispatch({\n                        type: ActionType.PRETEXT_CHANGED,\n                        id:id,\n                        pretext:other.pretext\n\n                         });\n\n\n            toret=ensureSelectionExists(id,toret);\n             store.dispatch({\n                        type: ActionType.SUGGESTIONS_CHANGED,\n                        id:id,\n\n                        });\n\n            return {...toret};\n\n        case  ActionTypes.SUGGESTION_RECEIVED_SUGGESTIONS:\n            var toret=state;\n              if (getMatchedPretext(id,state) === '') {\n                toret=setMatchedPretext(id, other.matchedPretext,toret);\n\n                // ensure the matched pretext hasn't changed so that we don't receive suggestions for outdated pretext\n                toret=addSuggestions(id, other.terms, other.items, other.component,toret);\n\n                toret=ensureSelectionExists(id,toret);\n                store.dispatch({\n                        type: ActionType.SUGGESTIONS_CHANGED,\n                        id:id,\n\n                        });\n            }\n\n\n\n            return { ...toret };\n        case ActionTypes.SUGGESTION_CLEAR_SUGGESTIONS:\n             var toret = state;\n             toret = clearSuggestions(id,toret);\n             toret = clearSelection(id,toret);\n             store.dispatch({\n                        type: ActionType.SUGGESTIONS_CHANGED,\n                        id:id,\n\n                        });\n\n            return {...toret };\n         case ActionTypes.SUGGESTION_SELECT_PREVIOUS:\n             var toret = state;\n             toret = selectNext(id,toret);\n              store.dispatch({\n                        type: ActionType.SUGGESTIONS_CHANGED,\n                        id:id,\n\n                        });\n\n            return { ...toret };\n\n        case ActionTypes.SUGGESTION_SELECT_NEXT:\n          var toret=state;\n          toret = selectPrevious(id,toret);\n             store.dispatch({\n                        type: ActionType.SUGGESTIONS_CHANGED,\n                        id:id,\n\n                        });\n            return {...toret};\n        case ActionTypes.SUGGESTION_COMPLETE_WORD:\n              var toret = state;\n             store.dispatch({\n                        type: ActionType.COMPLETE_WORD,\n                        id:id,\n                        term: other.term || getSelection(id,state)|| getMatchedPretext(id,state)\n\n                        });\n\n\n            toret = setPretext(id, '',toret);\n            toret = clearSuggestions(id,toret);\n            toret = clearSelection(id,toret);\n            store.dispatch({\n                        type: ActionType.SUGGESTIONS_CHANGED,\n                        id:id,\n\n                        });\n          return {...toret };\n\n        case ActionTypes.REGISTER_SUGGESTION_BOX:\n            var toret = state;\n            toret = registerSuggestionBox(id,toret);\n            return {...toret };\n        case ActionTypes.SUGGESTION_COMPLETE_WORD:\n            var toret = state;\n            return {...toret };\n        case ActionTypes.SUGGESTION_COMPLETE_WORD:\n            var toret = state;\n            return {...toret };\n        case ActionTypes.SUGGESTION_COMPLETE_WORD:\n            var toret = state;\n            return {...toret };\n\n\n\n\n\n\n\n    default:\n      return state;\n  }\n}\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./web/static/js/app/reducers/suggestionsReducer.js\n **/"],"sourceRoot":""}